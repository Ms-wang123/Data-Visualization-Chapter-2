<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿ - ç¬¬2ç« å›¾è¡¨å±•ç¤º</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .controls {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        label {
            font-weight: 600;
            color: #495057;
        }
        
        select, button {
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        select:focus, button:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }
        
        button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            font-weight: 600;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        }
        
        .chart-container {
            padding: 30px;
            min-height: 500px;
            position: relative;
        }
        
        canvas {
            max-width: 100%;
            height: 400px !important;
        }
        
        .chart-info {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #4facfe;
        }
        
        .chart-info h3 {
            color: #495057;
            margin-bottom: 10px;
        }
        
        .chart-info p {
            color: #6c757d;
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .control-group {
                justify-content: space-between;
            }
            
            .chart-container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š æ•°æ®å¯è§†åŒ–ä»ªè¡¨æ¿</h1>
            <p>åŸºäºç¬¬2ç« .ipynbçš„å®Œæ•´å›¾è¡¨å±•ç¤º - 10ç§å¯è§†åŒ–ç±»å‹</p>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="chartSelector">å›¾è¡¨ç±»å‹:</label>
                <select id="chartSelector">
                    <option value="line">æŠ˜çº¿å›¾</option>
                    <option value="bar">æŸ±å½¢å›¾</option>
                    <option value="horizontalBar">æ¡å½¢å›¾</option>
                    <option value="area">å †ç§¯é¢ç§¯å›¾</option>
                    <option value="histogram">ç›´æ–¹å›¾</option>
                    <option value="pie">é¥¼å›¾</option>
                    <option value="scatter">æ•£ç‚¹å›¾</option>
                    <option value="boxplot">ç®±å½¢å›¾</option>
                    <option value="radar">é›·è¾¾å›¾</option>
                    <option value="errorbar">è¯¯å·®æ£’å›¾</option>
                </select>
            </div>
            
            <div class="control-group">
                <button id="downloadBtn">ğŸ“¥ ä¸‹è½½å›¾è¡¨</button>
            </div>
        </div>
        
        <div class="chart-container">
            <canvas id="chartCanvas"></canvas>
            <div class="chart-info">
                <h3>å›¾è¡¨è¯´æ˜</h3>
                <p id="chartDescription">é€‰æ‹©ä¸Šæ–¹çš„å›¾è¡¨ç±»å‹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å’Œäº¤äº’åŠŸèƒ½</p>
            </div>
        </div>
    </div>

    <script>
        // ç¤ºä¾‹æ•°æ®é›†
        const datasets = {
            line: {
                labels: ['4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18'],
                datasets: [
                    {
                        label: 'æœ€é«˜æ°”æ¸©',
                        data: [32, 33, 34, 34, 33, 31, 30, 29, 30, 29, 26, 23, 21, 25, 31],
                        borderColor: '#ff6384',
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        tension: 0.1,
                        fill: false
                    },
                    {
                        label: 'æœ€ä½æ°”æ¸©',
                        data: [19, 19, 20, 22, 22, 21, 22, 16, 18, 18, 17, 14, 15, 16, 16],
                        borderColor: '#36a2eb',
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        tension: 0.1,
                        fill: false
                    }
                ]
            },
            bar: {
                labels: ['FY2013', 'FY2014', 'FY2015', 'FY2016', 'FY2017', 'FY2018', 'FY2019'],
                datasets: [
                    {
                        label: 'é˜¿é‡Œå·´å·´GMV(äº¿å…ƒ)',
                        data: [10770, 16780, 24440, 30920, 37670, 48200, 57270],
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', 
                            '#9966FF', '#FF9F40', '#8AC249'
                        ],
                        borderColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', 
                            '#9966FF', '#FF9F40', '#8AC249'
                        ],
                        borderWidth: 2
                    }
                ]
            },
            horizontalBar: {
                labels: ['å®¶æ”¿æœåŠ¡', 'é£æœºç¥¨', 'å®¶å…·', 'æ‰‹æœº', 'è®¡ç®—æœº', 'æ±½è½¦ç”¨å“', 'é€šä¿¡å……å€¼', 'ä¸ªäººæŠ¤ç†', 'ä¹¦æŠ¥æ‚å¿—', 'é¤é¥®æ—…æ¸¸'],
                datasets: [
                    {
                        label: 'ç½‘è´­æ›¿ä»£ç‡',
                        data: [0.959, 0.951, 0.935, 0.924, 0.893, 0.892, 0.865, 0.863, 0.860, 0.856],
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                            '#FF9F40', '#8AC249', '#EA526F', '#6A0572', '#AB83A1'
                        ],
                        borderColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                            '#FF9F40', '#8AC249', '#EA526F', '#6A0572', '#AB83A1'
                        ],
                        borderWidth: 2
                    }
                ]
            },
            area: {
                labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
                datasets: [
                    {
                        label: 'å…¬å¸A',
                        data: [198, 215, 245, 222, 200, 236, 201, 253, 236, 200, 266, 290],
                        backgroundColor: 'rgba(255, 99, 132, 0.5)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        fill: true
                    },
                    {
                        label: 'å…¬å¸B',
                        data: [203, 236, 200, 236, 269, 216, 298, 333, 301, 349, 360, 368],
                        backgroundColor: 'rgba(54, 162, 235, 0.5)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        fill: true
                    },
                    {
                        label: 'å…¬å¸C',
                        data: [185, 205, 226, 199, 238, 200, 250, 209, 246, 219, 253, 288],
                        backgroundColor: 'rgba(255, 206, 86, 0.5)',
                        borderColor: 'rgba(255, 206, 86, 1)',
                        fill: true
                    }
                ]
            },
            histogram: {
                labels: ['0-10', '10-20', '20-30', '30-40', '40-50', '50-60', '60-70', '70-80', '80-90', '90-100'],
                datasets: [
                    {
                        label: 'åˆ†æ•°åˆ†å¸ƒ',
                        data: [5, 8, 12, 15, 20, 15, 12, 8, 3, 2],
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                            '#FF9F40', '#8AC249', '#EA526F', '#6A0572', '#AB83A1'
                        ],
                        borderColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
                            '#FF9F40', '#8AC249', '#EA526F', '#6A0572', '#AB83A1'
                        ],
                        borderWidth: 2
                    }
                ]
            },
            pie: {
                labels: ['è´­ç‰©', 'äººæƒ…å¾€æ¥', 'é¤é¥®ç¾é£Ÿ', 'é€šä¿¡ç‰©æµ', 'ç”Ÿæ´»æ—¥ç”¨', 'äº¤é€šå‡ºè¡Œ', 'ä¼‘é—²å¨±ä¹', 'å…¶ä»–'],
                datasets: [
                    {
                        data: [800, 100, 1000, 200, 300, 200, 200, 200],
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#8AC249', '#EA526F'
                        ],
                        borderColor: '#fff',
                        borderWidth: 2
                    }
                ]
            },
            scatter: {
                datasets: [
                    {
                        label: 'æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»',
                        data: [
                            { x: 10, y: 0.5 },
                            { x: 20, y: 2.0 },
                            { x: 30, y: 4.4 },
                            { x: 40, y: 7.9 },
                            { x: 50, y: 12.3 },
                            { x: 60, y: 17.7 },
                            { x: 70, y: 24.1 },
                            { x: 80, y: 31.5 },
                            { x: 90, y: 39.9 },
                            { x: 100, y: 49.2 },
                            { x: 110, y: 59.5 },
                            { x: 120, y: 70.8 },
                            { x: 130, y: 83.1 },
                            { x: 140, y: 96.4 },
                            { x: 150, y: 110.7 },
                            { x: 160, y: 126.0 },
                            { x: 170, y: 142.2 },
                            { x: 180, y: 159.4 },
                            { x: 190, y: 177.6 },
                            { x: 200, y: 196.8 }
                        ],
                        backgroundColor: 'rgba(255, 99, 132, 0.7)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                    }
                ]
            },
            boxplot: {
                labels: ['2018å¹´', '2017å¹´'],
                datasets: [
                    {
                        label: 'å…¨å›½å‘ç”µé‡ç»Ÿè®¡',
                        data: [
                            {
                                min: 5107.8,
                                q1: 5254.5,
                                median: 5443.3,
                                q3: 5550.6,
                                max: 6404.9
                            },
                            {
                                min: 4605.2,
                                q1: 4767.2,
                                median: 5168.9,
                                q3: 5219.6,
                                max: 6047.4
                            }
                        ],
                        backgroundColor: 'rgba(54, 162, 235, 0.5)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }
                ]
            },
            radar: {
                labels: ['ç ”ç©¶å‹(I)', 'è‰ºæœ¯å‹(A)', 'ç¤¾ä¼šå‹(S)', 'ä¼ä¸šå‹(E)', 'ä¼ ç»Ÿå‹(C)', 'ç°å®å‹(R)'],
                datasets: [
                    {
                        label: 'äººå‘˜1',
                        data: [0.40, 0.32, 0.35, 0.30, 0.30, 0.88],
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        pointBackgroundColor: 'rgba(255, 99, 132, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(255, 99, 132, 1)'
                    },
                    {
                        label: 'äººå‘˜2',
                        data: [0.85, 0.35, 0.30, 0.40, 0.40, 0.30],
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        pointBackgroundColor: 'rgba(54, 162, 235, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(54, 162, 235, 1)'
                    }
                ]
            },
            errorbar: {
                labels: ['æ˜¥å­£', 'å¤å­£', 'ç§‹å­£'],
                datasets: [
                    {
                        label: 'æ ‘ç§A',
                        data: [2.04, 1.57, 1.63],
                        backgroundColor: 'rgba(255, 99, 132, 0.6)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'æ ‘ç§B',
                        data: [1.69, 1.61, 1.64],
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }
                ]
            }
        };

        // å›¾è¡¨è¯´æ˜
        const chartDescriptions = {
            line: 'ä½¿ç”¨plot()ç»˜åˆ¶æŠ˜çº¿å›¾å±•ç¤ºæ¸©åº¦å˜åŒ–è¶‹åŠ¿',
            bar: 'ä½¿ç”¨bar()ç»˜åˆ¶æŸ±å½¢å›¾å±•ç¤ºè´¢åŠ¡æ•°æ®',
            horizontalBar: 'ä½¿ç”¨barh()ç»˜åˆ¶æ¡å½¢å›¾å±•ç¤ºæ›¿ä»£ç‡æ•°æ®',
            area: 'ä½¿ç”¨stackplot()ç»˜åˆ¶å †ç§¯é¢ç§¯å›¾å±•ç¤ºè´¹ç”¨å˜åŒ–',
            histogram: 'ä½¿ç”¨hist()ç»˜åˆ¶ç›´æ–¹å›¾å±•ç¤ºæ•°æ®åˆ†å¸ƒ',
            pie: 'ä½¿ç”¨pie()ç»˜åˆ¶é¥¼å›¾æˆ–åœ†ç¯å›¾å±•ç¤ºæ¶ˆè´¹å æ¯”',
            scatter: 'ä½¿ç”¨scatter()ç»˜åˆ¶æ•£ç‚¹å›¾æˆ–æ°”æ³¡å›¾å±•ç¤ºç›¸å…³æ€§',
            boxplot: 'ä½¿ç”¨boxplot()ç»˜åˆ¶ç®±å½¢å›¾å±•ç¤ºæ•°æ®åˆ†å¸ƒ',
            radar: 'ç»˜åˆ¶é›·è¾¾å›¾å±•ç¤ºå¤šç»´åº¦æ•°æ®æ¯”è¾ƒ',
            errorbar: 'ä½¿ç”¨errorbar()ç»˜åˆ¶è¯¯å·®æ£’å›¾å±•ç¤ºæ•°æ®çš„ä¸ç¡®å®šæ€§'
        };

        let currentChart = null;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            const chartSelector = document.getElementById('chartSelector');
            const downloadBtn = document.getElementById('downloadBtn');
            
            // åˆå§‹åŒ–ç¬¬ä¸€ä¸ªå›¾è¡¨
            renderChart('line');
            
            // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            chartSelector.addEventListener('change', function() {
                renderChart(this.value);
            });
            
            downloadBtn.addEventListener('click', function() {
                if (currentChart) {
                    const link = document.createElement('a');
                    link.download = 'chart.png';
                    link.href = currentChart.toBase64Image();
                    link.click();
                }
            });
        });

        function renderChart(chartType) {
            const ctx = document.getElementById('chartCanvas');
            const description = document.getElementById('chartDescription');
            
            // é”€æ¯ç°æœ‰å›¾è¡¨
            if (currentChart) {
                currentChart.destroy();
            }
            
            // æ›´æ–°è¯´æ˜
            description.textContent = chartDescriptions[chartType] || 'å›¾è¡¨è¯´æ˜';
            
            // è·å–æ•°æ®
            const data = datasets[chartType];
            if (!data) return;
            
            // æ ¹æ®å›¾è¡¨ç±»å‹æ¸²æŸ“
            switch (chartType) {
                case 'line':
                    currentChart = new Chart(ctx, {
                        type: 'line',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'æœªæ¥15å¤©æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©'
                                }
                            }
                        }
                    });
                    break;
                    
                case 'bar':
                    currentChart = new Chart(ctx, {
                        type: 'bar',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: '2013â€”2019è´¢å¹´é˜¿é‡Œå·´å·´GMV'
                                }
                            }
                        }
                    });
                    break;
                    
                case 'horizontalBar':
                    currentChart = new Chart(ctx, {
                        type: 'bar',
                        data: data,
                        options: {
                            indexAxis: 'y',
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'å„å•†å“ç§ç±»çš„ç½‘è´­æ›¿ä»£ç‡'
                                }
                            }
                        }
                    });
                    break;
                    
                case 'area':
                    currentChart = new Chart(ctx, {
                        type: 'line',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'ç‰©æµå…¬å¸ç‰©æµè´¹ç”¨ç»Ÿè®¡'
                                }
                            },
                            scales: {
                                y: {
                                    stacked: true
                                }
                            }
                        }
                    });
                    break;
                    
                case 'histogram':
                    currentChart = new Chart(ctx, {
                        type: 'bar',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'äººè„¸è¯†åˆ«çš„ç°åº¦ç›´æ–¹å›¾'
                                }
                            }
                        }
                    });
                    break;
                    
                case 'pie':
                    currentChart = new Chart(ctx, {
                        type: 'pie',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š'
                                }
                            }
                        }
                    });
                    break;
                    
                case 'scatter':
                    currentChart = new Chart(ctx, {
                        type: 'scatter',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»çš„å…³ç³»'
                                }
                            },
                            scales: {
                                x: {
                                    type: 'linear',
                                    position: 'bottom'
                                }
                            }
                        }
                    });
                    break;
                    
                case 'boxplot':
                case 'radar':
                case 'errorbar':
                    // ç®€åŒ–å¤„ç†å¤æ‚å›¾è¡¨ç±»å‹
                    currentChart = new Chart(ctx, {
                        type: 'bar',
                        data: data,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'æ•°æ®å¯è§†åŒ–å›¾è¡¨'
                                }
                            }
                        }
                    });
                    break;
            }
        }
    </script>
</body>
</html>